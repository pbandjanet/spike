<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>SPIKE!!!</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
      #topimage {
        background-image: url("images/crops2.jpg");
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center top;
        background-attachment: fixed;
      }
    </style>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">eatRational</a>
        </div>
        <ul class="nav navbar-nav">
          <li class="active"><a href="#">Home</a></li>
          <li><a href="">Facts</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Contact Us</a></li>
        </ul>
      </div>
    </nav>

    <div class="jumbotron" id="topimage" style='margin-top:50px; color:white'>
      <div class="container text-center">
        <h1>better food | better world</h1>
        <p>improving the quality and quantity of our food</p>
      </div>
    </div>

    <div class="container text-justify">
      <div class="text-center">
        <h3>Genetic engineering can make our food more drought-tolerant, pest-resistant, and nutritious. Why are we allowing others to control the conversation?</h3>
        <br />
      </div>
      <div class="row">
        <div class="col-sm-3 text-left">
          <a href=""><img src="images/whataregmos.png" class="img-responsive" style="width:100%" alt="What are GMOs"></a>
        </div>

        <div class="col-sm-3 text-left">
          <a href=""><img src="images/agriculture_thumbnail.png" class="img-responsive" style="width:100%" alt="Agriculture Impacts"></a>
        </div>

        <div class="col-sm-3 text-left">
          <a href=""><img src="images/healthimpacts.png" class="img-responsive" style="width:100%" alt="Health Impacts"></a>
        </div>

        <div class="col-sm-3 text-left">
          <a href=""><img src="images/environment_thumbnail.png" class="img-responsive" style="width:100%" alt="Environmental Impacts"></a>
        </div>
      </div>
      <br />
      <div class="text-center">
        <big>

        <p>Groups like the Non-GMO Project are stifling efforts to meet the world's caloric and nutritional needs, which are critical as population numbers rise and the climate changes. Already, this small but vocal minority has managed to severely curb research and distribution efforts around the world. Many food cooperations have succumbed to this propaganda, normalizing these fringe views. <strong>Speak out now to protect our food future.</strong></p>
        </big>
      </div>
      <hr>
      <br />

      <form id='contactCompanyForm' action='/' method='get'>

      <div class="row">
        <div class="col-sm-6">
            <label for="company"><big>Companies to contact</big></label>
            <div class="btn-group-sm">
              <button type="button" class="btn btn-default" id='check_all'>Select all</button>
              <button type="button" class="btn btn-default" id='uncheck_all'>Deselect all</button>
            </div>
            <div class="form-group" style="max-height:120px;overflow:auto"> 
              <% for (var i=0; i<locals.companyKeys.length; i++) {%>
                <div class="checkbox">
                  <label><input type="checkbox" name="companies" value=<%=locals.companyKeys[i]%> >
                  <%=locals.companyNames[locals.companyKeys[i]]%> 
                  </label>
                </div>
              <%} %>
            </div>

            <div class="form-group">
              <label for="subject"><big>Subject</big></label>
              <input type="text" class="form-control" name="subject" id="subject" value="Support rational improvements to food" required>
            </div>

            <div class="form-group">
              <label for="email"><big>Editable text</big></label>
              <textarea class="form-control" rows="14" name="body" id="body" maxlength="4000" required>
I have been a long-time buyer of {company}. However, I have recently noticed that {company} supports the "Non-GMO Project". This is deeply disturbing to me, and I have discontinued purchase of {company's} products as a result.

To date, no study has ever shown negative effects from the consumption of GMOs. Indeed, perpetuating the myth that GMOs are inherently less healthy than non-GMOs is damaging to the continued research efforts to end hunger and nutrient-deficiency around the world.

I urge {company} to remove the "Non-GMO Project" sticker from their products and support food research that will keep the world's population healthy and well-fed in the generations to come. I really enjoy {company}, but cannot, in good conscience, purchase goods or recommend products from companies that prop up fraudulent claims that impede food progress.
              </textarea>
            </div>
        </div>

        <div class="col-sm-6">
          <div class="form-group">
            <label for="fname"><big>First Name</big></label>
            <input type="text" class="form-control" name="fname" id="fname" required>
          </div>

          <div class="form-group">
            <label for="lname"><big>Last Name</big></label>
            <input type="text" class="form-control" name="lname" id="lname" required>
          </div>

          <div class="form-group">
            <label for="email"><big>Email</big></label>
            <input type="email" class="form-control" name="email" id="email" required>
          </div>

          <div class="form-group">
            <label for="address"><big>Address</big></label>
            <input type="text" class="form-control" name="address" id="address" required>
          </div>

          <div class="form-group">
            <label for="city"><big>City</big></label>
            <input type="text" class="form-control" name="city" id="city" required>
          </div>

          <div class="form-group">
            <label for="state"><big>State</big></label>
            <select class="form-control" name="state" id="state" required>
              <option>Alabama</option>
              <option>Alaska</option>
              <option>Arizona</option>
              <option>Arkansas</option>
              <option>California</option>
              <option>Colorado</option>
              <option>Connecticut</option>
              <option>District of Columbia</option>
              <option>Delaware</option>
              <option>Florida</option>
              <option>Georgia</option>
              <option>Hawaii</option>
              <option>Idaho</option>
              <option>Illinois</option>
              <option>Iowa</option>
              <option>Indiana</option>
              <option>Kansas</option>
              <option>Kentucky</option>
              <option>Louisiana</option>
              <option>Maine</option>
              <option>Maryland</option>
              <option>Massachusetts</option>
              <option>Michigan</option>
              <option>Minnesota</option>
              <option>Mississippi</option>
              <option>Missouri</option>
              <option>Montana</option>
              <option>Nebraska</option>
              <option>Nevada</option>
              <option>New Hampshire</option>
              <option>New Jersey</option>
              <option>New Mexico</option>
              <option>New York</option>
              <option>North Carolina</option>
              <option>North Dakota</option>
              <option>Ohio</option>
              <option>Oklahoma</option>
              <option>Oregon</option>
              <option>Pennsylvania</option>
              <option>Rhode Island</option>
              <option>South Carolina</option>
              <option>South Dakota</option>
              <option>Tennessee</option>
              <option>Texas</option>
              <option>Utah</option>
              <option>Vermont</option>
              <option>Virginia</option>
              <option>Washington</option>
              <option>West Virginia</option>
              <option>Wisconsin</option>
              <option>Wyoming</option>
            </select>
          </div>

          <div class="form-group">
            <label for="zip"><big>Zip Code</big></label>
            <input type="text" class="form-control" name="zip" id="zip" required>
          </div>

          <div class="form-group">
      Â      <div class="checkbox">
              
            </div>
          </div>

          <input id="submitButton" type="submit" class="btn btn-success">

        </div>
      </div>

      </form>

    </div>
    <script src="js/browsersend.js"></script>
    <script>
      emailAllCompanies = require('browser-send');
      $('#check_all').click(function() {
          $('input[name=companies]').prop('checked', true);
      });

      $('#uncheck_all').click(function() {
          $('input[name=company]').prop('checked', false);
      });

      $('#submitButton').click(function(event) {
        var formElement = document.getElementById('contactCompanyForm');
        var formData = new FormData(formElement);
        request = new XMLHttpRequest();
        request.open('POST', 'submitContact');
        request.onreadystatechange = function() {
          if(request.readyState === 4 && request.status === 200) {
            emailAllCompanies(JSON.parse(request.response));
          }
        };
        request.send(formData);
        submitButton = document.getElementById('submitButton')
        submitButton.value='Submitted!';
        submitButton.disabled=true;
        event.preventDefault();
      });
    </script>

  </body>



</html>
